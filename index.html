<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>मेरा छोटा-सा निजी पुस्तकालय</title>
    
    <!-- 1. Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Configure Imports for React and Lucide -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.292.0"
      }
    }
    </script>
    
    <!-- 3. Load Babel to translate JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Font Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&family=Tiro+Devanagari+Hindi:ital@0;1&display=swap');
        
        .font-hindi { font-family: 'Tiro Devanagari Hindi', serif; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-poppins { font-family: 'Poppins', sans-serif; }
        
        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }
        
        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 1s ease-out forwards; }
    </style>
</head>
<body class="bg-black text-white">
    <div id="root"></div>

    <!-- 4. Your React Code -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Book, Heart, Activity, Battery, User, Home, Feather, 
            Coffee, Star, Award, MapPin, Film, Ticket, 
            DollarSign, Smile, ChevronRight, ChevronLeft,
            Library, Monitor, Zap, BookOpen, Anchor, Cloud, 
            Compass, Droplet, Sun, Users, GraduationCap, XCircle,
            Maximize2, Minimize2, Play, Type, Image as ImageIcon
        } from 'lucide-react';

        // --- Slide Data Structure (Simplified Class 9 Hindi) ---
        const SLIDES = [
            // --- PART 1: The Crisis ---
            {
                id: 1,
                type: 'hero',
                title: "मेरा छोटा-सा निजी पुस्तकालय",
                subtitle: "लेखक: धर्मवीर भारती",
                content: ["मौत के मुँह से ज़िंदगी की वापसी की कहानी।"],
                explanation: "यह कहानी बताती है कि किताबें सिर्फ पढ़ने के लिए नहीं होतीं, वे किसी की जान भी बचा सकती हैं।",
                image: "1.jpg",
                color: "from-slate-900 to-blue-950",
                accent: "text-blue-400",
                icon: Library
            },
            {
                id: 2,
                type: 'split',
                title: "जुलाई 1989 का संकट",
                content: [
                "लेखक को लगातार तीन जबरदस्त हार्ट अटैक आए।",
                "साँस और धड़कन रुक गई थी।",
                "डॉक्टरों ने उन्हें 'मृत' समझ लिया था।"
                ],
                explanation: "हालत बहुत नाजुक थी। बचने की उम्मीद लगभग खत्म हो चुकी थी।",
                image: "2.jpg",
                color: "from-red-950 to-slate-900",
                accent: "text-red-500",
                icon: Activity
            },
            {
                id: 3,
                type: 'split_reverse',
                title: "डॉक्टर की कोशिश",
                content: [
                "डॉक्टर ने हार नहीं मानी और एक खतरनाक प्रयोग किया।",
                "बिजली के तेज़ झटके (Shocks) दिए।",
                "अचानक दिल फिर से धड़कने लगा।"
                ],
                explanation: "डॉक्टर बोर्जेस की हिम्मत ने लेखक को नई ज़िंदगी दी।",
                image: "3.jpg",
                color: "from-indigo-950 to-slate-900",
                accent: "text-yellow-400",
                icon: Zap
            },
            {
                id: 4,
                type: 'hero_alt',
                title: "किताबों वाले कमरे की ज़िद",
                subtitle: "घर वापसी",
                content: [
                    "हस्पताल से घर आकर लेखक ने बेडरूम में लेटने से मना कर दिया।",
                    "उनकी ज़िद थी: 'मुझे मेरी किताबों वाली लाइब्रेरी में ही रखा जाए।'"
                ],
                explanation: "उन्हें लगता था कि बेडरूम में बीमारी है, जबकि किताबों के बीच ज़िंदगी है।",
                image: "4.jpg",
                color: "from-blue-950 to-slate-900",
                accent: "text-blue-300",
                icon: Book
            },
            {
                id: 5,
                type: 'split',
                title: "सुकून का नज़ारा",
                content: [
                    "खिड़की के बाहर: झूलते हुए हरे पेड़।",
                    "कमरे के अंदर: चारों तरफ हज़ारों किताबें।",
                    "यही नज़ारा लेखक को हिम्मत देता था।"
                ],
                explanation: "बाहर कुदरत थी और अंदर ज्ञान। दोनों ने मिलकर लेखक को ठीक होने में मदद की।",
                image: "5.jpg",
                color: "from-emerald-900 to-slate-900",
                accent: "text-emerald-300",
                icon: Home
            },

            // --- PART 2: Childhood ---
            {
                id: 6,
                type: 'grid',
                title: "बचपन और परिवार",
                content: [
                "पिता: आर्य समाज के प्रधान थे।",
                "माँ: स्कूल चलाती थीं।",
                "घर का माहौल पढ़ाई-लिखाई वाला था।"
                ],
                explanation: "लेखक का परिवार बहुत अमीर नहीं था, लेकिन ज्ञान और संस्कारों में बहुत अमीर था।",
                image: "6.jpg",
                color: "from-orange-950 to-slate-900",
                accent: "text-orange-400",
                icon: Users
            },
            {
                id: 7,
                type: 'split',
                title: "पिता का त्याग",
                content: [
                "पिता ने देश सेवा के लिए अच्छी सरकारी नौकरी छोड़ दी।",
                "इसके बाद घर में पैसों की बहुत तंगी हो गई।",
                ],
                explanation: "पैसों की कमी के बावजूद, उन्होंने बच्चों की पढ़ाई और किताबों में कमी नहीं आने दी।",
                image: "7.jpg",
                color: "from-stone-950 to-slate-900",
                accent: "text-stone-400",
                icon: User
            },

            // --- PART 3: Swami Dayanand ---
            {
                id: 8,
                type: 'hero_alt',
                title: "बचपन की पसंदीदा किताब",
                subtitle: "स्वामी दयानंद की जीवनी",
                content: [
                    "यह किताब चित्रों (Images) से भरी थी।",
                    "लेखक को इसे पढ़ने में बहुत मज़ा आता था।"
                ],
                explanation: "इस किताब ने बचपन में लेखक के मन पर गहरा असर डाला और उन्हें सही-गलत का फर्क सिखाया।",
                image: "8.jpg",
                color: "from-yellow-950 to-slate-900",
                accent: "text-yellow-500",
                icon: Star
            },
            {
                id: 9,
                type: 'split_reverse',
                title: "सच्चाई की खोज",
                content: [
                "किताब में पढ़ा: चूहे को भगवान का भोग खाते देखा।",
                "निष्कर्ष: मूर्ति में भगवान नहीं होते।",
                "सीख: आँख मूंदकर विश्वास नहीं करना चाहिए।"
                ],
                explanation: "इस घटना ने लेखक को सिखाया कि हर चीज़ के पीछे का कारण जानना ज़रूरी है।",
                image: "9.jpg",
                color: "from-cyan-950 to-slate-900",
                accent: "text-cyan-400",
                icon: Monitor
            },
            {
                id: 10,
                type: 'split',
                title: "रोमांचक सफर",
                content: [
                "दयानंद घर छोड़कर जंगलों और गुफाओं में भटके।",
                "वे सच्चाई जानना चाहते थे।",
                "यह हिस्सा लेखक को बहुत साहसी (Adventurous) लगता था।"
                ],
                explanation: "बच्चे होने के नाते, लेखक को साधुओं और गुफाओं की कहानियाँ बहुत लुभाती थीं।",
                image: "10.jpg",
                color: "from-teal-950 to-slate-900",
                accent: "text-teal-400",
                icon: Compass
            },
            {
                id: 11,
                type: 'card',
                title: "माफ करने की शक्ति",
                content: [
                "एक रसोइए ने दयानंद को ज़हर दिया।",
                "दयानंद ने उसे सज़ा देने के बजाय माफ कर दिया और पैसे देकर भगा दिया।",
                ],
                explanation: "इस कहानी ने लेखक को सिखाया कि बदला लेने से बड़ा काम माफ करना है।",
                color: "from-pink-950 to-slate-900",
                accent: "text-pink-400",
                icon: Droplet
            },

            // --- PART 4: Education & Success ---
            {
                id: 12,
                type: 'hero_alt',
                title: "पिता का आशीर्वाद",
                subtitle: "एक खास वादा",
                content: ["पिता ने सिर पर हाथ रखकर वादा लिया: 'माँ की चिंता दूर करोगे और अच्छे से पढ़ाई करोगे।'"],
                explanation: "पिता ने डांटने के बजाय प्यार से समझाया, जिसका लेखक पर जादुई असर हुआ।",
                image: "11.jpg",
                color: "from-orange-900 to-slate-900",
                accent: "text-orange-500",
                icon: Sun
            },

            // --- PART 5: The First Library ---
            {
                id: 13,
                type: 'split',
                title: "इनाम में मिलीं किताबें",
                content: [
                "लेखक कक्षा में फर्स्ट आए, तो स्कूल ने दो किताबें इनाम में दीं।",
                "1. पक्षियों की दुनिया।",
                "2. पानी के जहाज़।"
                ],
                explanation: "यहीं से लेखक की अपनी पर्सनल लाइब्रेरी बनने की शुरुआत हुई।",
                color: "from-blue-900 to-slate-900",
                accent: "text-blue-400",
                icon: Book
            },
            {
                id: 14,
                type: 'split_reverse',
                title: "पहली किताब: पक्षियों का संसार",
                content: [
                "इसमें अलग-अलग तरह के पक्षियों की जानकारी थी।",
                "लेखक ने इससे अपने आस-पास की प्रकृति को जानना सीखा।"
                ],
                explanation: "यह किताब पढ़ने के बाद लेखक बाहर जाकर पक्षियों को ध्यान से देखने लगे।",
                image: "12.jpg",
                color: "from-sky-950 to-slate-900",
                accent: "text-sky-400",
                icon: Cloud
            },
            {
                id: 15,
                type: 'split',
                title: "दूसरी किताब: समुद्र के रहस्य",
                content: [
                "यह किताब पानी के जहाज़ों और शार्क मछलियों के बारे में थी।",
                "इससे पता चला कि दुनिया कितनी बड़ी और अनोखी है।"
                ],
                explanation: "छोटे शहर में रहकर भी लेखक ने किताबों के ज़रिए सात समंदर की सैर कर ली।",
                image: "13.jpg",
                color: "from-cyan-900 to-slate-900",
                accent: "text-cyan-400",
                icon: Anchor
            },
            {
                id: 16,
                type: 'hero_alt',
                title: "अपनी लाइब्रेरी की शुरुआत",
                subtitle: "पिता का तोहफा",
                content: [
                "पिता ने अपनी अलमारी का एक खाना खाली किया।",
                "कहा: 'आज से यह तुम्हारी अपनी लाइब्रेरी है।'"
                ],
                explanation: "लेखक के लिए यह बहुत बड़ी बात थी। उन्हें अपनी एक अलग जगह मिल गई थी।",
                image: "14.jpg",
                color: "from-purple-950 to-slate-900",
                accent: "text-purple-400",
                icon: Library
            },
            
            // --- PART 6: Struggle ---
            {
                id: 17,
                type: 'card',
                title: "मुश्किल समय",
                content: [
                "पिता की मौत के बाद घर में गरीबी आ गई।",
                "नई किताबें खरीदना मुश्किल हो गया था।",
                "लेखक पुरानी किताबें बेचकर काम चलाते थे।"
                ],
                explanation: "शौक अपनी जगह था, लेकिन हालात बहुत सख्त थे। फिर भी पढ़ने का जुनून कम नहीं हुआ।",
                color: "from-red-900 to-slate-900",
                accent: "text-red-400",
                icon: XCircle
            },

            // --- PART 7: The Devdas Incident ---
            {
                id: 18,
                type: 'split_reverse',
                title: "फिल्म 'देवदास' का आकर्षण",
                content: [
                "लेखक ने पुरानी किताबें बेचकर 2 रुपये बचाए थे।",
                "वे सिनेमा हॉल में 'देवदास' फिल्म देखने जाना चाहते थे।",
                "उनका मन गाना सुनने के लिए बेचैन था।"
                ],
                explanation: "जवानी के दिनों में फिल्म और गानों का बहुत क्रेज़ होता है, लेखक भी इससे अछूते नहीं थे।",
                image: "15.jpg",
                color: "from-yellow-900 to-slate-900",
                accent: "text-yellow-500",
                icon: Film
            },
            {
                id: 19,
                type: 'quote',
                title: "माँ का प्यार",
                quote: "तू फिल्म देख आ। पैसे मैं दे दूँगी।",
                content: ["माँ को फिल्में पसंद नहीं थीं।", "फिर भी बेटे की उदासी देखकर उन्होंने पैसे दे दिए।"],
                explanation: "माँ अपने नियमों से ज्यादा अपने बेटे की खुशी की परवाह करती थीं।",
                color: "from-pink-950 to-slate-900",
                accent: "text-pink-400",
                icon: Heart
            },
            {
                id: 20,
                type: 'split',
                title: "किताब की दुकान पर फैसला",
                content: [
                "रास्ते में एक किताबों की दुकान दिखी।",
                "वहाँ 'देवदास' उपन्यास रखा था।",
                "कीमत केवल 10 आने थी (फिल्म टिकट से सस्ती)।"
                ],
                explanation: "लेखक ने सोचा - फिल्म तो खत्म हो जाएगी, लेकिन किताब हमेशा मेरे पास रहेगी।",
                color: "from-blue-800 to-slate-900",
                accent: "text-blue-300",
                icon: Ticket
            },
            {
                id: 21,
                type: 'hero_alt',
                title: "पहली खरीदी हुई किताब",
                subtitle: "एक समझदारी भरा कदम",
                content: [
                "लेखक ने फिल्म नहीं देखी, 'देवदास' किताब खरीदी।",
                "बचे हुए पैसे माँ को लौटा दिए।",
                "माँ की आँखों में खुशी के आँसू आ गए।"
                ],
                explanation: "यह लेखक की अपने पैसों से खरीदी पहली किताब थी। माँ को गर्व हुआ कि बेटा बिगड़ा नहीं।",
                image: "16.jpg",
                color: "from-rose-900 to-slate-900",
                accent: "text-rose-400",
                icon: Smile
            },
            
            // --- PART 8: Conclusion ---
            {
                id: 22,
                type: 'hero_large',
                title: "निष्कर्ष: किताबों का जीवन",
                subtitle: "मेरा मंदिर",
                content: [
                "आज लेखक के पास हज़ारों किताबें हैं।",
                "यही किताबें उनका परिवार और उनकी ताकत हैं।"
                ],
                explanation: "कहानी का सार यही है कि अच्छी किताबें इंसान की सबसे अच्छी दोस्त होती हैं।",
                image: "17.jpg",
                color: "from-slate-950 to-black",
                accent: "text-white",
                icon: Library
            },
            
            // --- Credits ---
            {
                id: 23,
                type: 'hero',
                title: "धन्यवाद",
                subtitle: "प्रस्तुतकर्ता:",
                content: ["मुरसल", "राम लाल", "अरीब", "शौर्य वीर"],
                explanation: "देखने के लिए शुक्रिया।",
                color: "from-slate-900 to-emerald-950",
                accent: "text-emerald-400",
                icon: Users
            }
        ];

        // --- Start Screen Component ---
        const StartScreen = ({ onStart }) => (
            <div className="h-screen w-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-slate-900 to-black text-center p-8 animate-fade-in relative overflow-hidden">
                {/* Background Decoration */}
                <div className="absolute inset-0 opacity-20 pointer-events-none">
                    <Library size={400} className="absolute -right-20 -bottom-20 text-blue-900" />
                    <Feather size={300} className="absolute -left-20 -top-20 text-emerald-900" />
                </div>

                <div className="z-10 max-w-4xl">
                    <div className="mb-8 inline-block p-6 rounded-full bg-white/5 border border-white/10 shadow-[0_0_50px_rgba(59,130,246,0.3)]">
                        <BookOpen size={80} className="text-blue-400" />
                    </div>
                    
                    <h1 className="text-6xl md:text-8xl font-playfair font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-white to-blue-300 mb-6 drop-shadow-2xl">
                        मेरा छोटा-सा <br /> निजी पुस्तकालय
                    </h1>
                    
                    <p className="text-2xl md:text-3xl text-slate-300 font-hindi mb-12 italic">
                        धर्मवीर भारती कृत (कक्षा 9 - संचित संस्मरण)
                    </p>

                    <div className="bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 mb-12 max-w-2xl mx-auto transform hover:scale-105 transition duration-500">
                        <h3 className="text-xl text-blue-300 uppercase tracking-widest font-bold mb-6 border-b border-white/10 pb-4">प्रस्तुतकर्ता</h3>
                        <div className="grid grid-cols-2 gap-y-4 gap-x-8 text-left">
                            <div className="flex items-center gap-3">
                                <div className="w-2 h-2 bg-emerald-400 rounded-full"></div>
                                <span className="text-xl font-hindi">मुरसल</span>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="w-2 h-2 bg-emerald-400 rounded-full"></div>
                                <span className="text-xl font-hindi">राम लाल</span>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="w-2 h-2 bg-emerald-400 rounded-full"></div>
                                <span className="text-xl font-hindi">अरीब</span>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="w-2 h-2 bg-emerald-400 rounded-full"></div>
                                <span className="text-xl font-hindi">शौर्य वीर</span>
                            </div>
                        </div>
                    </div>

                    <button 
                        onClick={onStart}
                        className="group relative px-12 py-5 bg-blue-600 text-white font-bold rounded-full text-xl shadow-[0_0_30px_rgba(37,99,235,0.5)] hover:shadow-[0_0_50px_rgba(37,99,235,0.8)] hover:bg-blue-500 transition-all duration-300 overflow-hidden"
                    >
                        <span className="relative z-10 flex items-center gap-3">
                            शुरू करें <ChevronRight size={24} className="group-hover:translate-x-1 transition-transform" />
                        </span>
                    </button>
                </div>
            </div>
        );

        // --- Helper: Get Size Classes based on Settings ---
        const getSizeClasses = (fontSize) => {
            switch(fontSize) {
                case 'large':
                    return {
                        title: 'text-6xl md:text-8xl',
                        subTitle: 'text-3xl md:text-4xl',
                        content: 'text-2xl md:text-3xl',
                        explanation: 'text-xl'
                    };
                case 'xl':
                    return {
                        title: 'text-7xl md:text-9xl',
                        subTitle: 'text-4xl md:text-5xl',
                        content: 'text-3xl md:text-4xl',
                        explanation: 'text-2xl'
                    };
                case 'normal':
                default:
                    return {
                        title: 'text-5xl md:text-7xl',
                        subTitle: 'text-2xl md:text-3xl',
                        content: 'text-xl md:text-2xl',
                        explanation: 'text-lg'
                    };
            }
        };

        // --- Slide Component ---
        const BulletPoint = ({ text, accent, fontSize }) => {
            const sizes = getSizeClasses(fontSize);
            return (
                <div className="flex items-start gap-4 mb-4">
                    <div className={`mt-3 w-2.5 h-2.5 rounded-full shrink-0 shadow-sm ${accent.replace('text-', 'bg-')}`} />
                    <p className={`${sizes.content} text-slate-200 font-hindi leading-relaxed transition-all duration-300`}>{text}</p>
                </div>
            );
        };

        const SlideContent = ({ slide, fontSize }) => {
            const Icon = slide.icon;
            const sizes = getSizeClasses(fontSize);

            // -- Helper for Image or Icon --
            const Visual = ({ large = false }) => {
                if (slide.image) {
                    return (
                        <div className={`relative w-full ${large ? 'h-full' : 'h-[65vh]'} rounded-2xl overflow-hidden shadow-2xl border border-white/10 group bg-black/50`}>
                            {/* 1. Blurred Background Image (Fills container) */}
                            <div className="absolute inset-0">
                                <img 
                                    src={slide.image} 
                                    className="w-full h-full object-cover blur-xl opacity-50 scale-110" 
                                    aria-hidden="true"
                                />
                            </div>

                            {/* 2. Main Image (Fitted, Fully Visible) */}
                            <img 
                                src={slide.image} 
                                alt={slide.title} 
                                onError={(e) => { e.target.onerror = null; e.target.style.display = 'none'; e.target.nextSibling.style.display = 'flex'; }}
                                className={`relative w-full h-full object-contain z-10 transition-transform duration-700 ${large ? '' : 'group-hover:scale-105'}`} 
                            />
                            
                            {/* Fallback Div */}
                            <div className="hidden absolute inset-0 w-full h-full bg-white/10 flex items-center justify-center flex-col z-20">
                                <ImageIcon size={60} className="mb-2 text-white/50"/>
                                <span className="text-white/50 text-sm">{slide.image} Missing</span>
                            </div>
                        </div>
                    );
                }
                if (Icon) {
                    return (
                        <div className={`p-12 rounded-3xl bg-white/5 backdrop-blur-md border border-white/10 shadow-2xl flex items-center justify-center aspect-square`}>
                            <Icon size={180} className={`${slide.accent} drop-shadow-2xl opacity-90`} strokeWidth={1} />
                        </div>
                    );
                }
                return null;
            };

            // -- Hero Slide --
            if (slide.type === 'hero') {
                return (
                <div className="flex flex-col items-center justify-center h-full text-center p-8 md:p-16">
                    <div className="mb-8 w-48 h-48 rounded-full overflow-hidden border-4 border-white/10 shadow-2xl relative group bg-white/10 flex items-center justify-center">
                        {slide.image ? 
                            <>
                                <img 
                                    src={slide.image} 
                                    className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" 
                                    onError={(e) => { e.target.style.display='none'; e.target.nextSibling.style.display='flex'; }}
                                />
                                <div className="hidden w-full h-full items-center justify-center flex-col">
                                    <ImageIcon className="text-white/50"/>
                                </div>
                            </>
                            : 
                            <div className="w-full h-full bg-white/10 flex items-center justify-center"><Icon size={80} className={slide.accent} /></div>
                        }
                    </div>
                    <h1 className={`${sizes.title} font-playfair font-bold text-white mb-6 drop-shadow-xl tracking-tight transition-all duration-300`}>{slide.title}</h1>
                    {slide.subtitle && <h2 className={`${sizes.subTitle} font-hindi italic ${slide.accent} mb-8 opacity-90 transition-all duration-300`}>{slide.subtitle}</h2>}
                    <div className="max-w-4xl bg-gradient-to-b from-white/10 to-transparent p-6 rounded-xl border-t border-white/20">
                    {slide.content.map((t, i) => <p key={i} className={`${sizes.content} text-slate-100 font-hindi mb-3 transition-all duration-300`}>{t}</p>)}
                    {slide.explanation && <p className={`mt-4 ${sizes.explanation} text-slate-400 font-poppins italic border-t border-white/10 pt-4 transition-all duration-300`}>{slide.explanation}</p>}
                    </div>
                </div>
                );
            }

            // -- NEW: Hero Large Slide (For Conclusion) --
            if (slide.type === 'hero_large') {
                return (
                <div className="flex flex-col items-center justify-center h-full text-center p-8 md:p-16">
                    <div className="mb-8 w-full max-w-4xl h-[65vh] rounded-2xl overflow-hidden border-4 border-white/10 shadow-2xl relative group bg-white/5">
                         <Visual large={true} />
                    </div>
                    <h1 className={`${sizes.title} font-playfair font-bold text-white mb-4 drop-shadow-xl tracking-tight transition-all duration-300`}>{slide.title}</h1>
                    <div className="max-w-4xl bg-gradient-to-b from-white/10 to-transparent p-6 rounded-xl border-t border-white/20">
                        {slide.content.map((t, i) => <p key={i} className={`${sizes.content} text-slate-100 font-hindi mb-3 transition-all duration-300`}>{t}</p>)}
                    </div>
                </div>
                );
            }

            // -- Hero Alt Slide --
            if (slide.type === 'hero_alt') {
                return (
                <div className="flex flex-col items-center justify-center h-full text-center p-12 relative overflow-hidden">
                    {/* Background Image Fade */}
                    {slide.image && <div className="absolute inset-0 opacity-20 pointer-events-none">
                        <img 
                            src={slide.image} 
                            className="w-full h-full object-cover blur-sm scale-110" 
                            onError={(e) => e.target.style.display='none'}
                        />
                    </div>}
                    
                    <div className="relative z-10 max-w-5xl">
                    <div className={`inline-block px-4 py-1 rounded-full border ${slide.accent.replace('text-','border-')} ${slide.accent} mb-6 text-sm font-poppins uppercase tracking-widest`}>प्रमुख घटना</div>
                    <h1 className={`${sizes.title} font-playfair font-bold text-white mb-6 transition-all duration-300 drop-shadow-lg`}>{slide.title}</h1>
                    {slide.subtitle && <h3 className={`${sizes.subTitle} font-hindi text-slate-300 mb-8 font-light transition-all duration-300`}>{slide.subtitle}</h3>}
                    <div className="bg-black/40 backdrop-blur-md p-8 rounded-2xl border-l-4 border-white/30 text-left shadow-2xl">
                        {slide.content.map((t, i) => <BulletPoint key={i} text={t} accent={slide.accent} fontSize={fontSize} />)}
                        {slide.explanation && <p className={`mt-6 ${sizes.explanation} text-slate-300 italic font-poppins pl-7 transition-all duration-300`}>{slide.explanation}</p>}
                    </div>
                    </div>
                </div>
                );
            }

            // -- Split Layouts --
            if (slide.type === 'split' || slide.type === 'split_reverse') {
                return (
                <div className={`flex flex-col lg:flex-row h-full items-center p-6 lg:p-12 gap-8 ${slide.type === 'split_reverse' ? 'lg:flex-row-reverse' : ''}`}>
                    <div className="flex-1 space-y-6 lg:space-y-8 w-full">
                    <div className="flex items-center gap-4 mb-2">
                        <span className="text-white/40 font-poppins text-sm uppercase tracking-wider bg-white/5 px-3 py-1 rounded-full">स्लाइड {slide.id}</span>
                    </div>
                    <h2 className={`${sizes.title} font-playfair font-bold text-white leading-tight transition-all duration-300`}>
                        {slide.title}
                    </h2>
                    <div className="space-y-4">
                        {slide.content.map((t, i) => <BulletPoint key={i} text={t} accent={slide.accent} fontSize={fontSize} />)}
                    </div>
                    {slide.explanation && (
                        <div className={`bg-white/5 p-6 rounded-xl border-l-4 ${slide.accent.replace('text-', 'border-')}`}>
                        <p className={`${sizes.explanation} text-slate-300 italic font-poppins transition-all duration-300`}>{slide.explanation}</p>
                        </div>
                    )}
                    </div>
                    <div className="flex-1 flex justify-center items-center w-full p-4">
                        <Visual />
                    </div>
                </div>
                );
            }

            // -- Card/Grid Layouts --
            if (slide.type === 'card' || slide.type === 'grid' || slide.type === 'list') {
                return (
                <div className="flex flex-col h-full p-8 lg:p-16 justify-center">
                    <div className="flex flex-col md:flex-row items-start md:items-center gap-6 mb-12">
                        {/* Thumbnail Image/Icon */}
                        <div className="w-24 h-24 rounded-2xl overflow-hidden border border-white/20 shrink-0 bg-white/10 flex items-center justify-center relative">
                            {slide.image ? 
                                <>
                                    <img 
                                        src={slide.image} 
                                        className="w-full h-full object-cover" 
                                        onError={(e) => { e.target.style.display='none'; e.target.nextSibling.style.display='flex'; }}
                                    />
                                    <div className="hidden w-full h-full items-center justify-center text-white/30"><ImageIcon size={30}/></div>
                                </>
                                : 
                                <div className={`w-full h-full bg-white/10 flex items-center justify-center ${slide.accent}`}><Icon size={40} /></div>
                            }
                        </div>
                        <div>
                            <h2 className={`${sizes.title} font-playfair font-bold text-white mb-2 transition-all duration-300`}>{slide.title}</h2>
                            <div className={`h-1 w-24 ${slide.accent.replace('text-', 'bg-')}`}></div>
                        </div>
                    </div>
                    
                    <div className={`${slide.type === 'grid' ? 'grid grid-cols-1 md:grid-cols-3' : 'flex flex-col'} gap-6`}>
                    {slide.content.map((t, i) => (
                        <div key={i} className={`bg-white/5 backdrop-blur-sm p-6 rounded-xl border border-white/5 hover:bg-white/10 transition duration-300 ${slide.type === 'list' ? 'flex items-center gap-4' : ''}`}>
                        {slide.type === 'list' && <div className={`w-8 h-8 rounded-full flex items-center justify-center bg-white/10 shrink-0 font-bold ${slide.accent}`}>{i+1}</div>}
                        <p className={`${sizes.content} text-slate-100 font-hindi leading-relaxed transition-all duration-300`}>{t}</p>
                        </div>
                    ))}
                    </div>

                    {slide.explanation && (
                    <div className="mt-8 p-6 bg-black/20 rounded-xl border border-white/5 text-center max-w-4xl mx-auto w-full">
                        <p className={`${sizes.explanation} text-slate-300 font-hindi transition-all duration-300`}>{slide.explanation}</p>
                    </div>
                    )}
                </div>
                );
            }

            // -- Quote Slide --
            if (slide.type === 'quote') {
                return (
                <div className="flex flex-col h-full justify-center items-center p-12 text-center relative overflow-hidden">
                    {/* Image Background for Quote */}
                    {slide.image && <div className="absolute inset-0 opacity-30 pointer-events-none">
                        <img 
                            src={slide.image} 
                            className="w-full h-full object-cover blur-sm" 
                            onError={(e) => e.target.style.display='none'}
                        />
                        <div className="absolute inset-0 bg-black/60"></div>
                    </div>}

                    <div className="relative z-10 max-w-6xl">
                    <div className="text-6xl md:text-8xl text-white/20 font-serif absolute -top-10 -left-10">“</div>
                    <blockquote className={`${sizes.title} font-hindi leading-tight text-white mb-12 relative z-10 drop-shadow-xl transition-all duration-300`}>
                        {slide.quote}
                    </blockquote>
                    <div className="text-6xl md:text-8xl text-white/20 font-serif absolute -bottom-10 -right-10">”</div>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 relative z-10">
                    {slide.content.map((t, i) => (
                        <div key={i} className="bg-white/10 backdrop-blur-md px-8 py-4 rounded-full border border-white/20">
                        <p className={`${sizes.content} font-poppins tracking-wide ${slide.accent} transition-all duration-300`}>{t}</p>
                        </div>
                    ))}
                    </div>
                    
                    {slide.explanation && <p className={`mt-12 ${sizes.explanation} text-slate-300 font-poppins italic max-w-2xl transition-all duration-300 relative z-10 bg-black/40 px-4 py-2 rounded-lg`}>{slide.explanation}</p>}
                </div>
                );
            }

            return null;
        };

        // --- Main App ---
        const App = () => {
            const [showStart, setShowStart] = useState(true);
            const [currentSlide, setCurrentSlide] = useState(0);
            const [resolution, setResolution] = useState('1440p');
            const [fontSize, setFontSize] = useState('normal'); // 'normal' | 'large' | 'xl'

            // Navigation
            const nextSlide = () => setCurrentSlide(p => Math.min(p + 1, SLIDES.length - 1));
            const prevSlide = () => setCurrentSlide(p => Math.max(p - 1, 0));

            useEffect(() => {
                const handleKey = (e) => {
                    if (showStart) return;

                    if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
                    if (e.key === 'ArrowLeft') prevSlide();
                    
                    // Resolution Toggles
                    if (e.key === '+' || e.key === '=') setResolution('1440p');
                    if (e.key === '-' || e.key === '_') setResolution('1080p');

                    // Font Size Toggle (Cycle 3 levels)
                    if (e.key.toLowerCase() === 'p') {
                        setFontSize(prev => {
                            if (prev === 'normal') return 'large';
                            if (prev === 'large') return 'xl';
                            return 'normal';
                        });
                    }
                };
                window.addEventListener('keydown', handleKey);
                return () => window.removeEventListener('keydown', handleKey);
            }, [showStart]);

            // Helper to get font size label
            const getFontSizeLabel = () => {
                switch(fontSize) {
                    case 'large': return 'बड़ा';
                    case 'xl': return 'सबसे बड़ा';
                    default: return 'साधारण';
                }
            };

            // Show Start Screen Logic
            if (showStart) {
                return <StartScreen onStart={() => setShowStart(false)} />;
            }

            // Presentation Mode
            const activeSlide = SLIDES[currentSlide];

            return (
                <div className={`h-screen w-screen overflow-hidden bg-gradient-to-br ${activeSlide.color} transition-all duration-700 ease-in-out relative font-poppins selection:bg-white/30 flex justify-center items-center`}>
                    
                    {/* Noise Effect */}
                    <div className="absolute inset-0 opacity-[0.03] pointer-events-none mix-blend-overlay" 
                        style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}>
                    </div>

                    <main className={`h-full w-full mx-auto relative z-10 flex flex-col transition-all duration-500 ${resolution === '1440p' ? 'max-w-[2560px]' : 'max-w-[1920px] shadow-2xl border-x border-white/5'}`}>
                        <header className="px-8 py-6 flex justify-between items-center text-white/40 border-b border-white/5 bg-black/10 backdrop-blur-sm">
                            <div className="text-sm font-bold uppercase hover:text-white transition cursor-default">मेरा छोटा-सा निजी पुस्तकालय</div>
                            <div className="flex gap-4 items-center">
                                {/* Font Size Indicator */}
                                <div className="flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 text-xs font-mono font-bold tracking-wider opacity-70" title="Press P to toggle size">
                                    <span className="text-purple-400 font-bold">T</span>
                                    <span>{getFontSizeLabel()}</span>
                                </div>

                                <div className="flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 text-xs font-mono font-bold tracking-wider opacity-70">
                                    <Monitor size={12} className="text-blue-400" />
                                    <span>{resolution === '1440p' ? '१४४०p उच्च' : '१०८०p साधारण'}</span>
                                </div>
                            </div>
                        </header>

                        <div className="flex-1 w-full relative overflow-hidden">
                            <div key={activeSlide.id} className="h-full w-full animate-fade-in-up custom-scroll overflow-y-auto">
                                <SlideContent slide={activeSlide} fontSize={fontSize} />
                            </div>
                        </div>

                        <footer className="px-8 py-6 flex justify-between items-center bg-gradient-to-t from-black/40 to-transparent">
                            <div className="text-white/60 font-mono text-xl flex items-baseline gap-2">
                                <span className="text-3xl font-bold text-white">{currentSlide + 1}</span>
                                <span className="opacity-50 text-sm">/ {SLIDES.length}</span>
                            </div>
                            <div className="hidden md:flex flex-1 mx-12 h-1 bg-white/10 rounded-full overflow-hidden">
                                <div className="h-full bg-white transition-all duration-300 ease-out" style={{ width: `${((currentSlide + 1) / SLIDES.length) * 100}%` }} />
                            </div>
                            <div className="flex gap-4">
                                <button onClick={prevSlide} disabled={currentSlide === 0} className="p-4 rounded-full bg-white/5 hover:bg-white/20 hover:scale-105 active:scale-95 disabled:opacity-30 disabled:scale-100 disabled:cursor-not-allowed transition-all backdrop-blur-md border border-white/10 text-white shadow-lg">
                                    <ChevronLeft size={28} />
                                </button>
                                <button onClick={nextSlide} disabled={currentSlide === SLIDES.length - 1} className="p-4 rounded-full bg-white/5 hover:bg-white/20 hover:scale-105 active:scale-95 disabled:opacity-30 disabled:scale-100 disabled:cursor-not-allowed transition-all backdrop-blur-md border border-white/10 text-white shadow-lg">
                                    <ChevronRight size={28} />
                                </button>
                            </div>
                        </footer>
                    </main>
                    
                    <style>{`
                        @keyframes fadeInUp {
                            from { opacity: 0; transform: translateY(30px) scale(0.98); }
                            to { opacity: 1; transform: translateY(0) scale(1); }
                        }
                        .animate-fade-in-up {
                            animation: fadeInUp 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                        }
                    `}</style>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
